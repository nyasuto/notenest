# NoteNest 使い方ガイド

## ページの作成

### TUI経由

1. `n`キーを押す
2. slug、title、tagsを入力（現在は簡易実装）

### 手動作成

`pages/`ディレクトリに直接マークダウンファイルを作成できます：

```markdown
---
title: サンプルページ
tags: [example, tutorial]
created: 2025-10-01T10:00:00
updated: 2025-10-01T10:00:00
metadata_type: default
---

# サンプルページ

これはサンプルページです。

## Wiki Link

他のページへのリンクは `[[ページslug]]` の形式で記述します。

例: [[another-page]]

表示名を指定する場合: [[表示名|page-slug]]
```

作成後、TUIで`r`キーを押してリフレッシュすると反映されます。

## Wiki Link

ページ間のリンクは以下の形式で記述します：

- `[[page-slug]]` - 基本形式
- `[[表示名|page-slug]]` - 表示名を指定

リンク先ページが存在しない場合、リンク切れとして検出されます。

## バックリンク

ページを選択して`b`キーを押すと、そのページへのバックリンク（被参照ページ）が表示されます。

## タグ

### タグの付け方

Frontmatterでタグを指定します：

```yaml
---
tags: [python, programming, tutorial]
---
```

### タグ一覧の表示

`t`キーを押すと、全タグとそれぞれのページ数が表示されます。

## 検索

### 全文検索

検索ボックス（`s`キーでフォーカス）に文字を入力すると、タイトルと本文から全文検索します。

SQLite FTS5を使用しているため、高速に検索できます。

## 外部エディタでの編集

ページを選択して`e`キーを押すと、`$EDITOR`環境変数で設定されたエディタで開きます。

```bash
# 環境変数設定例
export EDITOR=vim
export EDITOR=code  # VS Code
export EDITOR=nano
```

編集後、TUIに戻ると自動的に変更が反映されます。

## ファイルとDBの同期

- TUIは起動時に`pages/`ディレクトリをスキャンし、DBと同期します
- 手動でファイルを編集した場合は`r`キーでリフレッシュ
- TUI経由での変更は自動的にファイルとDBの両方に反映されます
